// const crypto = require('crypto')

// const decipher = crypto.createDecipheriv('aes-256-cbc', crypto.randomBytes(32), crypto.randomBytes(16))

// const old = crypto.createDecipheriv
// crypto.createDecipheriv = function (...args) {
//   console.log(`${process.type}: `, ...args)
//   return old.call(crypto, ...args)
// }

// const Decipher = decipher.constructor

// const oldupdate = Decipher.prototype.update
// Decipher.prototype.update = function (...args) {
//   const res = oldupdate.call(this, ...args)
//   console.log(res)
//   return res
// }
// const oldFinal = Decipher.prototype.final
// Decipher.prototype.final = function (...args) {
//   const res = oldFinal.call(this, ...args)
//   console.log(res)
//   return res
// }

const Module = require('module')

const oldCompile = Module.prototype._compile
      
Module.prototype._compile = function (content, filename) {
  console.log(content)
  return oldCompile.call(this, content, filename)
}

module.exports = 'outerpkg export string'
